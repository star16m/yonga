<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"
  th:replace="~{fragments/layout :: layout (~{::body},'product')}">

<body>

	<div th:if="${product != null}" class="container xd-container">
		<h2>상품</h2>
		<table class="table table-striped table-bordered" th:object="${product}">
			<tr>
				<th>카테고리</th>
				<td><b th:text="*{category.korean + '(' + category.japanese + ')'}"></b></td>
			</tr>
			<tr>
				<th>접수번호</th>
				<td><b th:text="*{uketsukeNo}"></b></td>
			</tr>
			<tr>
				<th>메이커</th>
				<td th:text="*{maker}" /></td>
			</tr>
			<tr>
				<th>타입</th>
				<td th:text="*{type}" /></td>
			</tr>
			<tr>
				<th>상품명</th>
				<td th:text="*{itemName}" /></td>
			</tr>
			<tr>
				<th>평가</th>
				<td th:text="*{rating}" /></td>
			</tr>
			<tr>
				<th>형상</th>
				<td th:text="*{keijo}" /></td>
			</tr>
			<tr>
				<th>개최일</th>
				<td th:text="*{openDate}" /></td>
			</tr>
			<tr>
				<th>특이사항</th>
				<td th:text="*{note}" /></td>
			</tr>
			<tr>
				<th>시작</th>
				<td th:text="*{start}" /></td>
			</tr>
			<tr>
				<th>결과</th>
				<td th:text="*{result}" /></td>
			</tr>
		</table>
		<br />
		<h2>image</h2>
		<div>
			<div class="product-image" th:each="productImg : ${product.imageList}">
				<a target="_blank" th:href="${productImg.largeName}">
					<img th:src="${productImg.name}" />
				</a>
			</div>
		</div>
		<br />
	</div>
	
  <h2>Category</h2>

  <table id="category" class="table table-striped" th:if="${not #lists.isEmpty(categoryList)}">
    <thead>
      <tr>
        <th>카테고리</th>
        <th>진행</th>
        <th>상태</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="category : ${categoryList}">
        <td><a th:href="@{/product/__${category.id}__}" th:text="${category.korean + '(' + category.japanese + ')'}"></a></td>
        <td th:text="${category.extProductNum + ' / ' + category.totalProductNum}"></td>
        <td th:text="#{'category.status.' + ${category.status}}">상태</td>
      </tr>
    </tbody>
  </table>

  <h2 th:if="${page != null and page.content != null}">Product</h2>
  
  <table id="product" class="table table-striped" th:if="${page != null and page.content != null}">
    <thead>
      <tr>
        <th>카테고리</th>
        <th>접수번호</th>
        <th>제품번호</th>
        <th>메이커</th>
        <th>타입</th>
        <th>평가</th>
      </tr>
    </thead>
    <tbody>
      <tr th:if="${page != null and not #lists.isEmpty(page.content)}" th:each="p : ${page.content}" th:classappend="${product != null and product.uketsukeNo == p.uketsukeNo} ? 'currentProduct' : ''">
        <td th:text="${p.category.korean + '(' + p.category.japanese + ')'}" class="text-center"></td>
        <td>
        	<a th:href="@{/product/__${p.category.id}__/__${p.uketsukeNo}__(page=${page.number-1},size=${page.size})}" th:text="${p.uketsukeNo}"/></a>
        </td>
        <td th:text="${p.productNo}" class="text-center"></td>
        <td th:text="${p.maker}"></td>
        <td th:text="${p.type}" class="text-center"></td>
        <td th:text="${p.rating}" class="text-center"></td>
      </tr>
      <tr th:unless="${not #lists.isEmpty(page.content)}">
      	<td colspan="6">No data.</td>
      </tr>
    </tbody>
  </table>

</body>
</html>
